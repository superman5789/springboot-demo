
xxl-job支持的任务类型：
BEAN模式(类形式)
BEAN模式(方法形式)
GLUE模式(Java)
GLUE模式(Shell)
GLUE模式(Python)
GLUE模式(NodeJS)
GLUE模式(PHP)
GLUE模式(PowerShell)

##### Bean模式
每个Bean模式任务都是一个Spring的Bean类实例，它被维护在“执行器”项目的Spring容器中。
任务类需要加“@JobHandler(value=”名称”)”注解，因为“执行器”会根据该注解识别Spring容器中的任务。
任务类需要继承统一接口“IJobHandler”，任务逻辑在execute方法中开发，
因为“执行器”在接收到调度中心的调度请求时，将会调用“IJobHandler”的execute方法，执行任务逻辑
##### GLUE模式
“GLUE模式(Java)” 任务的代码，实际上是“一个继承自“IJobHandler”的实现类的类代码”，
“执行器”接收到“调度中心”的调度请求时，会通过Groovy类加载器加载此代码，实例化成Java对象，
同时注入此代码中声明的Spring服务（请确保Glue代码中的服务和类引用在“执行器”项目中存在），
然后调用该对象的execute方法，执行任务逻辑

调度中心HA（集群）
基于数据库的集群方案，数据库选用Mysql；
集群分布式并发环境中进行定时任务调度时，会在各个节点会上报任务，存到数据库中，
执行时会从数据库中取出触发器来执行，如果触发器的名称和执行时间相同，则只有一个节点去执行此任务

过期处理策略
任务调度错过触发时间时的处理策略：
可能原因：服务重启；调度线程被阻塞，线程被耗尽；上次调度持续阻塞，下次调度被错过；
处理策略：
过期超5s：本次忽略，当前时间开始计算下次触发时间
过期5s内：立即触发一次，当前时间开始计算下次触发时间

任务HA（Failover）
执行器如若集群部署，调度中心将会感知到在线的所有执行器，如“127.0.0.1:9997, 127.0.0.1:9998, 127.0.0.1:9999”。
当任务”路由策略”选择”故障转移(FAILOVER)”时，当调度中心每次发起调度请求时，会按照顺序对执行器发出心跳检测请求，
第一个检测为存活状态的执行器将会被选定并发送调度请求。

执行器实际上是一个内嵌的Server，默认端口9999（配置项：xxl.job.executor.port）。
在项目启动时，执行器会通过“@JobHandler”识别Spring容器中“Bean模式任务”，
以注解的value属性为key管理起来，然后调用其execute方法

一次完整任务流程包括”调度（调度中心） + 执行（执行器）”两个阶段。

“故障转移”发生在调度阶段，在执行器集群部署时，如果某一台执行器发生故障，该策略支持自动进行Failover切换到一台正常的执行器机器并且完成调度请求流程。
“失败重试”发生在”调度 + 执行”两个阶段，支持通过自定义任务失败重试次数，当任务失败时将会按照预设的失败重试次数主动进行重试；

避免任务重复执行
调度密集或者耗时任务可能会导致任务阻塞，集群情况下调度组件小概率情况下会重复触发；
针对上述情况，可以通过结合 “单机路由策略（如：第一台、一致性哈希）” + “阻塞策略（如：单机串行、丢弃后续调度）” 来规避，最终避免任务重复执行。
数据库的悲观锁，xxl_job_lock，for update,防止了集群同时调度的情况





