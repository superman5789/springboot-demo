
CAP理论是分布式架构中重要理论

一致性(Consistency) (所有节点在同一时间具有相同的数据)
可用性(Availability) (保证每个请求不管成功或者失败都有响应)
分隔容忍(Partition tolerance) (系统中任意信息的丢失或失败不会影响系统的继续运作)

Zookeeper -> CP

Eureka -> AP
Eureka还有一种自我保护机制，如果在15分钟内超过85%的节点都没有正常的心跳，那么Eureka就认为注册中心出现了网络故障
1、Eureka不再从注册表中移除因为长时间没有收到心跳而过期的服务；
2、Eureka仍然能够接受新服务注册和查询请求，但是不会被同步到其它节点上（即保证当前节点依然可用）；
3、当网络稳定时，当前实例新注册的信息会被同步到其它节点中

Consul -> CP
保证了强一致性和分区容错性，且使用的是Raft算法，比zookeeper使用的Paxos算法更加简单
##### Raft
Raft集群包含多个服务器，5个服务器是比较典型的，允许系统容忍两个故障。在任何给定时间，
每个服务器都处于以下三种状态之一，领导者（Leader），追随者（Follower）或候选人（Candidate）。 
这几个状态见可以相互转换




